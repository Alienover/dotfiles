#!/usr/bin/env nix-shell
#! nix-shell -i sh -p stow

export XDG_CONFIG_HOME="${HOME}/.config"

DOT_DIR="$(dirname $(readlink -f "$0"))/dotfiles"

dotfiles=(
  nvim
  tmux
  zsh
  shell
  user_scripts
  tmuxifier
  gnupg
  ssh
  nixpkgs
  git
)

. ./setup "${dotfiles[@]}"

# Install Nix packages from config.nix
nix-env -iA nixpkgs.devPackages

# Switch the default shell to zsh
sudo chsh -s "$(which zsh)" "$(whoami)"
