#!/usr/bin/env nix-shell
#! nix-shell -i -p stow

DOT_DIR="$(dirname $(readlink -f "$0"))/dotfiles"

dotfiles=(
  nvim
  tmux
  zsh
  shell
  user_scripts
  tmuxifier
  gnupg
  ssh
  nixpkgs
)

cd $DOT_DIR > /dev/null

for file in "${dotfiles[@]}"; do
  echo -e "Stowing $file ..."
  stow $file --no-folding
done

cd - > /dev/null

echo -e "Stow Done!"

# Install Nix packages from config.nix
nix-env -iA nixpkgs.devPackages
